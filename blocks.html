<head>
  <title>blocks</title>
</head>

<body>
  <h1>Welcome to Meteor!</h1>

  {{> hello}}
</body>

<template name="hello">
    <x3d>
    <scene>
      <viewpoint position="8.19 12.33 19.5" orientation="-0.834 0.55 0 0.65"></viewpoint>
      <navigationinfo type="turntable" headlight="false"></navigationinfo>

      <pointLight location="0 40 0" intensity="0.3"></pointLight>
      <pointLight location="-30 10 -20" intensity="0.7"></pointLight>
      <directionalLight direction="-1 -1 -0.7" color="#ffe" intensity="0.8" shadowIntensity="0.4"></directionalLight>

      <transform rotation="-1.5707963267948966 0 0 1.5707963267948966">
        <shape>
          <appearance><material diffuseColor="#4A9"></material></appearance>
          <plane size="100 100"></plane>
        </shape>
      </transform>

      {{#each boxes}}
        <transform translation="{{x}} {{y}} {{z}}" scale="0.5 0.5 0.5">
          <shape id="{{_id}}">
            <appearance>
              <material diffuseColor="{{color}}" ambientIntensity="0.1"
                shininess="0"></material>
            </appearance>
            <box></box>
          </shape>
        </transform>
      {{/each}}
    </scene>
  </x3d>
  
  {{#each boxes}}
  	<p>{{_id}} {{x}} {{y}} {{z}}</p>
  {{/each}}

</template>
